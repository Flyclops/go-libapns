<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>go-libapns</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.css" rel="stylesheet" />

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="navbar navbar-default" id="top">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
      </div>
      <div class="navbar-collapse collapse navbar-responsive-collapse">
        <ul class="nav navbar-nav">
          <li><a href="http://github.com/joekarl/go-libapns">Source</a></li>
          <li><a href="http://godoc.org/github.com/joekarl/go-libapns">GoDoc</a></li>
          <li><a href="#quickstart">Quickstart</a></li>
          <li><a href="#contribute">Contribute</a></li>
        </ul>
      </div>
    </div>
    <div class="jumbotron">
      <div class="container">
        <h1>go-libapns</h1>
        <p>A low level APNS library for Go with an emphasis on being fast and efficient</p>
      </div>
    </div>
    <div class="container">
      <div class="alert alert-dismissable alert-warning">
        <button type="button" class="close" data-dismiss="alert">Ã—</button>
        <h4>Warning!</h4>
        <p>While this library is (fairly) stable, it needs to be battle tested before really relying heavily on it. That being said, use it, break it, and I would love any testing that you can throw at it</p>
      </div>
    </div>

    <div class="container">
      <p>When it comes to APNS libraries, most of them make some fatal mistakes. Those mistakes tend to boil down to: not handling the latest guidelines from Apple, relying on inefficient networking, or not handling errors in the ways Apple requires you to. go-libapns tries to be a simple low level interface that should be able to handle large amounts of push notifications in a CPU, Memory, and Network effecient manner. go-libapns also looks to be prepared for the future, with the impending expansion of the APNS payload and new fields, the code is mostly setup to handle these new featues.</p>
    </div>

    <div id="contribute" class="container">
      <h3>Contributing</h3>
      <p>go-libapns is open source and the code is on github. Feel free to submit pull requests and bug reports.</p>
    </div>

    <div id="quickstart" class="container">
      <h3>Quickstart</h3>
      <h6>Get the code</h6>
      <code>go get github.com/joekarl/go-libapns</code>
      <h6>Send push notifications!</h6>
      <script src="https://gist.github.com/joekarl/a93238739cf9b339a924.js"></script>
    </div>

    <div class="container">
      <h3>Handling Errors</h3>
      <p>Due to Apple's streaming protocol, errors are a bit tricky to handle correctly. However by following a few simple guidelines, go-libapns will do the heavy lifting for you, allowing you to focus on what you want to do when an error occurs.</p>
      <p>
        <ol>
          <li>Whenever you write to the SendChannel, you should also listen to the close channel. This is easy to do with a select.</li>
          <li>Even though go-libapns has accepted a message, it doesn't mean that message has been sent to Apple yet. You can flush the network by calling Disconnect() or by waiting a while to see if the close channel fires, but by far the best option is to listen to the close channel constantly and never manually close the connection.</li>
          <li>When the close channel fires, you'll get back a ConnectionClose object. This object will contain information about why the connection was closed, but more importantly it will give you back a list of unsent messages that you should attempt to resend.</li>
        </ol>
      </p>
      <script src="https://gist.github.com/joekarl/e38ffa0f5595c4c0b1ff.js"></script>
    </div>


    <footer>
      <div class="container">
        <ul class="list-unstyled">
          <li class="pull-right"><a href="#top">Back to top</a></li>
          <li><a href="http://joekarl.github.io">Blog</a></li>
          <li><a href="https://twitter.com/joekarl">Twitter</a></li>
          <li><a href="https://github.com/joekarl/">GitHub</a></li>
        </ul>
      </div>
    </footer>
    
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
  </body>
</html>